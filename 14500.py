pattern = [[[0,0],[0,1],[0,2],[0,3]],
          [[0,0],[1,0],[2,0],[3,0]],
          [[0,0],[0,1],[1,0],[1,1]],
          [[0,0],[1,0],[2,0],[2,1]],
          [[0,0],[0,1],[0,2],[-1,2]],
          [[-1,0],[0,0],[0,1],[0,2]],
          [[0,0],[0,1],[-1,1],[-2,1]],
          [[0,0],[0,1],[0,2],[1,2]],
          [[0,0],[1,0],[0,1],[0,2]],
          [[0,0],[1,0],[2,0],[0,1]],
          [[0,0],[1,0],[1,1],[2,1]],
          [[0,0],[0,1],[1,1],[1,2]],
          [[0,0],[0,1],[1,1],[2,1]],
          [[0,0],[1,0],[1,-1],[2,-1]],
          [[0,0],[0,1],[-1,1],[-1,2]],
          [[0,0],[0,1],[0,2],[-1,1]],
          [[0,0],[0,1],[0,2],[1,1]],
          [[0,0],[1,0],[2,0],[1,1]],
          [[0,0],[1,0],[2,0],[1,-1]]]

n,m = map(int,input().split())
paper = [list(map(int,input().split())) for _ in range(n)]
answer = 0
for p in pattern:
    for i in range(n):
        for j in range(m):
            sum = 0
            for t in range(4):
                try: sum += paper[i+p[t][0]][j+p[t][1]]
                except: continue
            answer = max(answer,sum)
print(answer)